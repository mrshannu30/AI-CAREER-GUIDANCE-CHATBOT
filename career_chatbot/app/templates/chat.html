<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerIQ - Chat</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h2>ðŸ¤– CareerIQ</h2>
            <div class="header-buttons">
                <button class="btn-info" onclick="toggleProfilePanel()">ðŸ‘¤ Profile</button>
                <button class="btn-new-chat" onclick="startNewChat()">+ New Chat</button>
                <button class="btn-history" onclick="toggleChatHistory()">ðŸ“‹ History</button>
            </div>
        </div>

        <div class="chat-content">
            <!-- Chat Messages Area -->
            <div class="messages-container" id="messagesContainer">
                <div class="message bot-message">
                    <p>ðŸ‘‹ Hello! I'm your AI Career Guidance Assistant. I'm here to help you plan your career journey. Tell me a bit about yourself to get started!</p>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="Type your message here..." 
                    class="input-field"
                    onkeypress="handleKeyPress(event)"
                >
                <button class="btn-send" onclick="sendMessage()">Send</button>
            </div>
        </div>

        <!-- Profile Panel -->
        <div id="profilePanel" class="profile-panel">
            <div class="profile-header">
                <h3>Your Profile</h3>
                <button class="btn-close" onclick="toggleProfilePanel()">Ã—</button>
            </div>
            <div class="profile-content">
                <div id="profileInfo">
                    <p class="info-section">
                        <strong>Name:</strong>
                        <span id="profileName">Not set</span>
                    </p>
                    <p class="info-section">
                        <strong>Current Study:</strong>
                        <span id="profileStudy">Not set</span>
                    </p>
                    <p class="info-section">
                        <strong>Skills:</strong>
                        <span id="profileSkills">No skills added yet</span>
                    </p>
                    <p class="info-section">
                        <strong>Status:</strong>
                        <span id="profileStatus">Studying</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- Chat History Panel -->
        <div id="historyPanel" class="history-panel">
            <div class="history-header">
                <h3>Chat History</h3>
                <button class="btn-close" onclick="toggleChatHistory()">Ã—</button>
            </div>
            <div id="historyContent" class="history-content">
                <p>No chat history yet</p>
            </div>
        </div>
    </div>

    <!-- Initial Setup Modal -->
    <div id="setupModal" class="modal">
        <div class="modal-content">
            <h2>Welcome! Let's Get Started</h2>
            <form onsubmit="setupUser(event)">
                <input 
                    type="email" 
                    id="userEmail" 
                    placeholder="Your Email" 
                    required
                >
                <input 
                    type="text" 
                    id="userName" 
                    placeholder="Your Name" 
                    required
                >
                <button type="submit" class="btn btn-primary">Start Chatting</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>
</html>
